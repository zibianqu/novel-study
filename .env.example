# NovelForge AI - 环境变量配置示例

# ======================
# 服务器配置
# ======================
SERVER_PORT=8080
SERVER_ENV=development

# ======================
# 数据库配置
# ======================

# PostgreSQL
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=novel_forge
DB_SSLMODE=disable
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5

# Neo4j (知识图谱)
NEO4J_URI=bolt://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=neo4j_password
NEO4J_DATABASE=neo4j
NEO4J_POOL_SIZE=50
NEO4J_CONNECTION_LIFETIME=1h
NEO4J_CONNECTION_TIMEOUT=30s

# Redis (缓存)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# ======================
# AI 服务配置
# ======================

# Eino AI
EINO_API_KEY=your_eino_api_key_here
EINO_API_BASE=https://api.eino.ai/v1
EINO_MODEL=gpt-4
EINO_TEMPERATURE=0.7
EINO_MAX_TOKENS=2000

# Agent 配置
AGENT_MAX_ITERATIONS=10
AGENT_TIMEOUT=300s
AGENT_ENABLE_LOGGING=true

# ======================
# 知识图谱配置
# ======================
GRAPH_ENABLED=true
EXTRACTOR_MIN_CONFIDENCE=0.5
EXTRACTOR_MAX_NODES=1000
EXTRACTOR_ENABLE_AI=false

# ======================
# 知识库配置
# ======================
KNOWLEDGE_CACHE_ENABLED=true
KNOWLEDGE_CACHE_SIZE=1000
KNOWLEDGE_CACHE_TTL=1h

# ======================
# 安全配置
# ======================

# JWT 认证 (生成方式: openssl rand -hex 32)
JWT_SECRET=your-super-secret-jwt-key-min-32-chars-here!
JWT_EXPIRATION=24h

# 加密密钥 - 必须恰好32字符 (生成方式: openssl rand -base64 32 | cut -c1-32)
ENCRYPTION_KEY=your-32-char-encryption-key!!

# 登录安全
MAX_LOGIN_ATTEMPTS=5
LOGIN_BLOCK_DURATION=15m

# API限流
API_RATE_LIMIT=100
API_RATE_WINDOW=1m
AI_RATE_LIMIT=10
AI_RATE_WINDOW=1m

# 密码策略
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_LETTERS=true
PASSWORD_REQUIRE_NUMBERS=true

# ======================
# 文件存储
# ======================
STORAGE_TYPE=local
STORAGE_PATH=./storage
MAX_UPLOAD_SIZE=10MB

# ======================
# 日志配置
# ======================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE=./logs/app.log

# ======================
# CORS 配置
# ======================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ======================
# 监控配置
# ======================
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENABLED=true

# ======================
# 开发模式
# ======================
DEBUG=false
ENABLE_PROFILING=false
ENABLE_SWAGGER=true
