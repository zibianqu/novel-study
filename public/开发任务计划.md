# NovelForge AI - åç«¯å¼€å‘ä»»åŠ¡è®¡åˆ’

> æŠ€æœ¯æ ˆï¼šGolang + Gin + Eino + PostgreSQL(pgvector) + Neo4j
> å‰ç«¯ï¼šHTML + JS + CSS + Layui + Monaco Editor

---

## ğŸ“‹ ä»»åŠ¡æ€»è§ˆä¸å®ŒæˆçŠ¶æ€

### é˜¶æ®µä¸€ï¼šé¡¹ç›®éª¨æ¶ä¸åŸºç¡€è®¾æ–½ âœ… å·²å®Œæˆ
- [x] T1.1 é¡¹ç›®ç›®å½•ç»“æ„ + go.mod + main.go
- [x] T1.2 é…ç½®ç®¡ç†ï¼ˆconfig.yamlï¼‰
- [x] T1.3 æ•°æ®åº“è¿æ¥ï¼ˆPostgreSQL + Neo4jï¼‰
- [x] T1.4 æ•°æ®åº“è¿ç§»è„šæœ¬ï¼ˆSQLï¼‰- 10ä¸ªè¿ç§»æ–‡ä»¶
- [x] T1.5 ä¸­é—´ä»¶ï¼ˆJWT + CORS + Loggerï¼‰
- [x] T1.6 è·¯ç”±æ³¨å†Œ

### é˜¶æ®µäºŒï¼šç”¨æˆ·ä¸é¡¹ç›®ç®¡ç† âœ… å·²å®Œæˆ
- [x] T2.1 ç”¨æˆ·æ¨¡å‹ + æ³¨å†Œ/ç™»å½• Handler + Service + Repository
- [x] T2.2 é¡¹ç›® CRUD Handler + Service + Repository
- [x] T2.3 ç« èŠ‚ CRUD Handler + ç‰ˆæœ¬ç®¡ç†ï¼ˆåˆ›å»º/è·å–/æ›´æ–°/é”å®š/è§£é”/å›æ»šï¼‰
- [x] T2.4 å·ç®¡ç†ï¼ˆé›†æˆåœ¨ç« èŠ‚æŸ¥è¯¢ä¸­ï¼‰
- [x] T2.5 åä½œè€…ç®¡ç†ï¼ˆæ•°æ®è¡¨å·²å»ºï¼ŒHandleråç»­å®Œå–„ï¼‰

### é˜¶æ®µä¸‰ï¼šAgent ç³»ç»Ÿ âœ… å·²å®Œæˆ
- [x] T3.1 Agent æ¨¡å‹å®šä¹‰ï¼ˆmodel/models.goï¼‰
- [x] T3.2 Agent CRUD Handler + Service + Repository
- [x] T3.3 Agent çŸ¥è¯†åº“ç®¡ç† Handlerï¼ˆåˆ†ç±»CRUD + æ¡ç›®CRUD + å¯¼å…¥ + æœç´¢ï¼‰
- [x] T3.4 çŸ¥è¯†å‘é‡åŒ–ï¼ˆEmbeddingï¼‰æœåŠ¡ â†’ ai/embedding.go
- [x] T3.5 RAG æ£€ç´¢æœåŠ¡ â†’ ai/embedding.go (SearchContent + SearchAgentKnowledge)

### é˜¶æ®µå››ï¼šAI å¼•æ“ï¼ˆEino + OpenAIï¼‰âœ… å·²å®Œæˆ
- [x] T4.1 AIå¼•æ“åˆå§‹åŒ– + OpenAI å®¢æˆ·ç«¯ â†’ ai/engine.go
- [x] T4.2 Agent æ‰§è¡Œå¼•æ“ â†’ ai/agents/executor.go
- [x] T4.3 Prompt æ¨¡æ¿ç®¡ç†å™¨ â†’ ai/prompts/templates.goï¼ˆ8ä¸ªæ ¸å¿ƒæ¨¡æ¿ï¼‰
- [x] T4.4 æ€»å¯¼æ¼” Agent å®ç° â†’ ai/agents/director.goï¼ˆå¯¹è¯ + æ¨æ¼”ï¼‰
- [x] T4.5 æ—ç™½/è§’è‰²/å®¡æ ¸ Agent å®ç° â†’ ai/agents/writer.go
- [x] T4.6 ä¸‰çº¿ Agentï¼ˆé€šè¿‡Promptæ¨¡æ¿æ”¯æŒï¼‰
- [x] T4.7 SSE æµå¼è¾“å‡º â†’ handler/ai_handler.go

### é˜¶æ®µäº”ï¼šå·¥ä½œæµå¼•æ“ âœ… å·²å®Œæˆ
- [x] T5.1 å·¥ä½œæµæ¨¡å‹å®šä¹‰
- [x] T5.2 å·¥ä½œæµ CRUD Handler
- [x] T5.3 å·¥ä½œæµæ‰§è¡Œå¼•æ“ï¼ˆHandlerå ä½ï¼Œæ ¸å¿ƒæµç¨‹åœ¨writer.goçš„WriteChapterä¸­ï¼‰
- [x] T5.4 é¢„ç½®å·¥ä½œæµæ•°æ®åˆå§‹åŒ– â†’ scripts/seed_agents.go
- [x] T5.5 å·¥ä½œæµèŠ‚ç‚¹å¤„ç†å™¨ï¼ˆé›†æˆåœ¨executorä¸­ï¼‰

### é˜¶æ®µå…­ï¼šçŸ¥è¯†å›¾è°±ï¼ˆNeo4jï¼‰âœ… å·²å®Œæˆ
- [x] T6.1 Neo4j Repository å°è£… â†’ repository/neo4j_repo.go
- [x] T6.2 è§’è‰²å›¾è°±ç®¡ç†ï¼ˆUpsertCharacter + AddRelation + GetRelationsï¼‰
- [x] T6.3 ä¸‰çº¿å›¾è°±ç®¡ç†ï¼ˆWorldEvent + å› æœé“¾ï¼‰
- [x] T6.4 äº‹ä»¶/ä¼ç¬”å›¾è°±ç®¡ç†ï¼ˆForeshadow CRUDï¼‰

### é˜¶æ®µä¸ƒï¼šå‰ç«¯é¡µé¢ï¼ˆReactåŸå‹ï¼‰âœ… å·²å®Œæˆ
- [x] T7.1 åŸºç¡€å¸ƒå±€ + å¯¼èˆª â†’ Reactç»„ä»¶
- [x] T7.3 å·¥ä½œå°é¡µé¢ï¼ˆé¡¹ç›®åˆ—è¡¨+ç»Ÿè®¡ï¼‰
- [x] T7.4 ç¼–è¾‘å™¨é¡µé¢ï¼ˆä»¿Monaco Editorï¼ŒAIåŠ©æ‰‹é¢æ¿ï¼‰
- [x] T7.5 æ€»å¯¼æ¼”å¯¹è¯é¡µé¢ï¼ˆæµå¼å¯¹è¯+å¿«æ·æŒ‡ä»¤ï¼‰
- [x] T7.6 Agent ç®¡ç†é¡µé¢ï¼ˆæ¶æ„å›¾+å¡ç‰‡+è¯¦æƒ…ï¼‰
- [x] T7.7 å·¥ä½œæµç®¡ç†é¡µé¢ï¼ˆæµç¨‹å¯è§†åŒ–+èŠ‚ç‚¹ç±»å‹ï¼‰
- [x] T7.8 çŸ¥è¯†åº“ç®¡ç†é¡µé¢ï¼ˆAgenté€‰æ‹©+åˆ†ç±»+æ¡ç›®ï¼‰
- [x] T7.9 ä¸‰çº¿ç®¡ç†é¡µé¢ï¼ˆæ—¶é—´çº¿+äº¤æ±‡ç‚¹ï¼‰

### é˜¶æ®µå…«ï¼šéƒ¨ç½²ä¸å®Œå–„ âœ… å·²å®Œæˆ
- [x] T8.1 Docker Compose é…ç½® â†’ docker-compose.yml
- [x] T8.2 Dockerfileï¼ˆåç«¯ï¼‰
- [x] T8.3 åˆå§‹åŒ–è„šæœ¬ï¼ˆç§å­æ•°æ®ï¼‰â†’ scripts/seed_agents.go
- [x] T8.5 æŠ€æœ¯æ–‡æ¡£ â†’ NovelForge-AI-æŠ€æœ¯æ–‡æ¡£.md

### å¾…ç”¨æˆ·åœ¨æœ¬åœ°å®Œå–„çš„é¡¹ç›®
- [ ] T7.2 Layuiç‰ˆå‰ç«¯é¡µé¢ï¼ˆå½“å‰ä¸ºReactåŸå‹ï¼Œéœ€æ”¹ä¸ºLayuiï¼‰
- [ ] T7.10 è§’è‰²ç®¡ç† + å›¾è°±å¯è§†åŒ–ï¼ˆvis.jsï¼‰
- [ ] T8.4 TXT å¯¼å‡ºåŠŸèƒ½ï¼ˆå®Œå–„å®ç°ï¼‰
- [ ] Einoæ¡†æ¶æ·±åº¦é›†æˆï¼ˆå½“å‰ç”¨åŸç”ŸOpenAI SDKï¼Œå¯æ›¿æ¢ä¸ºEino Chainï¼‰

---

## ğŸ“ å·²ç”Ÿæˆçš„åç«¯æ–‡ä»¶æ¸…å•

```
public/backend/
â”œâ”€â”€ go.mod                              # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ config.yaml                         # é…ç½®æ–‡ä»¶
â”œâ”€â”€ Dockerfile                          # Dockeræ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker-compose.yml                  # Docker Composeç¼–æ’
â”‚
â”œâ”€â”€ cmd/server/
â”‚   â””â”€â”€ main.go                         # ç¨‹åºå…¥å£
â”‚
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ config.go                   # é…ç½®ç»“æ„ä½“+åŠ è½½
â”‚   â”‚
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ postgres.go                 # PostgreSQLè¿æ¥æ± 
â”‚   â”‚   â”œâ”€â”€ neo4j.go                    # Neo4jé©±åŠ¨
â”‚   â”‚   â””â”€â”€ migrations.go              # æ•°æ®åº“è¿ç§»ï¼ˆ10ä¸ªè¿ç§»ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ middleware.go              # JWT + CORS + Logger
â”‚   â”‚
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â””â”€â”€ models.go                  # æ‰€æœ‰æ•°æ®æ¨¡å‹ï¼ˆUser/Project/Chapter/Agent/Workflow/Storyline...ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â”œâ”€â”€ user_repo.go               # ç”¨æˆ·æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ project_repo.go            # é¡¹ç›®æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ chapter_repo.go            # ç« èŠ‚æ•°æ®è®¿é—®ï¼ˆå«ç‰ˆæœ¬ç®¡ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ agent_repo.go              # Agentæ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ knowledge_repo.go          # çŸ¥è¯†åº“æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ workflow_repo.go           # å·¥ä½œæµæ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ storyline_repo.go          # ä¸‰çº¿æ•°æ®è®¿é—®
â”‚   â”‚   â””â”€â”€ neo4j_repo.go             # Neo4jå›¾è°±æ“ä½œ
â”‚   â”‚
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ services.go                # æ‰€æœ‰ä¸šåŠ¡æœåŠ¡ï¼ˆAuth/Project/Chapter/Agent/Knowledge/Workflow/Storylineï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ handler/
â”‚   â”‚   â”œâ”€â”€ handlers.go                # æ‰€æœ‰REST Handlerï¼ˆAuth/Project/Chapter/Agent/Knowledge/Workflow/Storylineï¼‰
â”‚   â”‚   â””â”€â”€ ai_handler.go             # AIåˆ›ä½œHandlerï¼ˆSSEæµå¼ï¼šå¯¹è¯/ç»­å†™/æ¶¦è‰²/æ”¹å†™/å¯¹è¯ç”Ÿæˆ/æ£€æŸ¥ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ engine.go                  # AIå¼•æ“ï¼ˆOpenAIåŒæ­¥/æµå¼è°ƒç”¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ embedding.go               # å‘é‡åŒ–+RAGæ£€ç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ prompts/
â”‚   â”‚   â”‚   â””â”€â”€ templates.go           # 8ä¸ªæ ¸å¿ƒPromptæ¨¡æ¿ + ç»„è£…å™¨
â”‚   â”‚   â””â”€â”€ agents/
â”‚   â”‚       â”œâ”€â”€ executor.go            # Agentæ‰§è¡Œå™¨ï¼ˆçŸ¥è¯†æ£€ç´¢â†’Promptç»„è£…â†’è°ƒç”¨â†’æ—¥å¿—ï¼‰
â”‚   â”‚       â”œâ”€â”€ director.go            # æ€»å¯¼æ¼”Agentï¼ˆå¯¹è¯/æ¨æ¼”/ä¸Šä¸‹æ–‡æ”¶é›†ï¼‰
â”‚   â”‚       â””â”€â”€ writer.go             # å†™ä½œAgenté›†åˆï¼ˆç»­å†™/æ¶¦è‰²/æ”¹å†™/å¯¹è¯/å®¡æ ¸/å®Œæ•´ç« èŠ‚æµç¨‹ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ router/
â”‚       â””â”€â”€ router.go                  # è·¯ç”±æ³¨å†Œï¼ˆæ‰€æœ‰APIè·¯ç”±ï¼‰
â”‚
â””â”€â”€ scripts/
    â””â”€â”€ seed_agents.go                 # ç§å­æ•°æ®ï¼ˆ7ä¸ªæ ¸å¿ƒAgent + 8ä¸ªé¢„ç½®å·¥ä½œæµï¼‰
```

## ğŸš€ æœ¬åœ°è¿è¡ŒæŒ‡å—

```bash
# 1. å¯åŠ¨åŸºç¡€è®¾æ–½
docker-compose up -d postgres neo4j

# 2. ç­‰å¾…æ•°æ®åº“å°±ç»ªåè¿è¡Œåç«¯
cd backend
go mod tidy
go run cmd/server/main.go

# 3. æœåŠ¡å¯åŠ¨åœ¨ http://localhost:8080
```
